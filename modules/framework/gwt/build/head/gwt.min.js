function gwtEscape(a){return a.replace(/\\/g,"\\\\").replace(/\|/g,"\\!")}
function gwtGetStrongName(a,c){var b=getParam(a,null,null,/(\w+)='safari'/),d=getParam(a,null,null,/(\w+)='ru'/),e=getParam(a,null,null,/(\w+)='desktop'/);if(!b&&/%VARNAME_BROWSER%/.test(c.strong_name))throw AnyBalance.trace(a),new AnyBalance.Error("Cannot find $strongName: reference to browser.");if(!d&&/%VARNAME_LANG%/.test(c.strong_name))throw AnyBalance.trace(a),new AnyBalance.Error("Cannot find $strongName: reference to language.");if(!e&&/%VARNAME_DEVICE%/.test(c.strong_name))throw AnyBalance.trace(a),
new AnyBalance.Error("Cannot find $strongName: reference to device.");b=new RegExp(makeReplaces(c.strong_name,{VARNAME_BROWSER:b,VARNAME_LANG:d,VARNAME_DEVICE:e}));b=getParam(a,null,null,b);if(!b)throw new AnyBalance.Error("Could not find $strongName: variable name.");b=new RegExp("\\b"+b+"='([^']*)");b=getParam(a,null,null,b);if(!b)throw new AnyBalance.Error("Could not find $strongName: variable value.");return b}
function gwtGetJSON(a,c){if(/^\/\/EX/i.test(a)){var b=getParam(a,null,null,/Exception[^"]*","([^"]*)"\]/);throw new AnyBalance.Error(b,null,(c||/Неверный логин или пароль/i).test(b));}b=getParam(a,null,null,/\/\/OK(.*)/);if(!b)throw new AnyBalance.Error("Response error: "+a);return getJsonEval(b)}function gwtLoadStrongName(a){var c=AnyBalance.requestGet(a.url+a.auth_nocache,this.g_headers);return gwtGetStrongName(c,a)}
function gwtHeaders(a,c){return addHeaders({"Content-Type":"text/x-gwt-rpc; charset=UTF-8","X-GWT-Module-Base":c.url,"X-GWT-Permutation":a})}function makeReplaces(a,c){for(var b in c)a=a.replace(new RegExp("%"+b+"%","g"),c[b]);return a};
